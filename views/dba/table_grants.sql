DROP VIEW IF EXISTS ascendco.table_grants; -- Previous schema location.CREATE OR REPLACE VIEW dba.table_grants ASWITHtable_list AS(   SELECT schemaname AS schema_name,		    tablename AS table_name,			quote_ident(schemaname) || '.' || quote_ident(tablename) AS qualified_name,			tableowner AS owner_name      FROM pg_tables     WHERE schemaname not in ('information_schema','pg_catalog')  ORDER BY 3),user_list AS(   SELECT usename AS user_name      FROM pg_user  ORDER BY 1)SELECT  table_list.*,  user_list.user_name,  privilege,  has_table_privilege(user_name, qualified_name, privilege) AS setting  FROM table_list  CROSS JOIN user_list  CROSS JOIN (values    ('delete'), ('insert'), ('references'), ('select'), ('trigger'), ('truncate'), ('update')  ) AS p(privilege); -- unnest('{delete, insert, references, select, trigger, truncate, update}'::text[]) -- That's the other option instead of values() above.ALTER VIEW dba.table_grants    OWNER TO user_change_structure;-------------------------------------------------- Register view------------------------------------------------CALL view_register ('dba','table_grants','Lists each table GRANT for each user. Massive.');