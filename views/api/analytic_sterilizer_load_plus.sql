CREATE OR REPLACE VIEW api.analytic_sterilizer_load_plus ASSELECT 	analytic_sterilizer_load.id,    analytic_sterilizer_load.sterilize_method_id,    analytic_sterilizer_load.sterilize_params_id,    analytic_sterilizer_load.sterilizer_id,    analytic_sterilizer_load.facility_id,    analytic_sterilizer_load.web_user_id,    analytic_sterilizer_load.status_building_dts,    analytic_sterilizer_load.status_building_local_dts,    analytic_sterilizer_load.status_done_dts,    analytic_sterilizer_load.status_done_local_dts,    analytic_sterilizer_load.status,    analytic_sterilizer_load.is_iuss,    analytic_sterilizer_load.instruments_count,    analytic_sterilizer_load.packs_count,    analytic_sterilizer_load.trays_count,    /* Lookup fields */    sterilize_method.name_ AS method_name,    sterilize_params.name_ AS params_name,    sterilizer.name_ AS sterilizer_name,    facility.name_ AS facility_name,    facility.tz_name,    data_file_info.server_name_,    web_user.name_full,    hour_bin_get_bin_label(date_part('hour', analytic_sterilizer_load.status_building_dts)::INTEGER) AS building_hour_gin,    hsys.name_ AS hsys_name	FROM analytic_sterilizer_load	LEFT JOIN sterilize_method ON (analytic_sterilizer_load.sterilize_method_id = sterilize_method.id)	LEFT JOIN sterilize_params ON (analytic_sterilizer_load.sterilize_params_id = sterilize_params.id)	LEFT JOIN sterilizer 	   ON (analytic_sterilizer_load.sterilizer_id  	    = sterilizer.id)	LEFT JOIN facility 		   ON (analytic_sterilizer_load.facility_id		    = facility.id)	LEFT JOIN data_file_info   ON (analytic_sterilizer_load.data_file_id	    = data_file_info.id)	LEFT JOIN web_user 	   	   ON (analytic_sterilizer_load.web_user_id		    = web_user.id)	LEFT JOIN hsys			   ON (facility.hsys_id 					        = hsys.id)    ;ALTER VIEW api.analytic_sterilizer_load_plus    OWNER TO user_change_structure;-------------------------------------------------- Register view------------------------------------------------CALL view_register ('api','analytic_sterilizer_load_plus','[SterilizerLoad] details, with lookup values.');