CREATE OR REPLACE VIEW api.inv_plus ASSELECT	inv.id,    inv.marked_for_deletion,    inv.item_id,    inv.inv_no,    inv.their_name,	/* Lookup fields */    item.name_ AS item_name,	CASE		WHEN (item.name_  = '' AND inv.inv_no  = '') THEN 'NotLinked ' || inv.their_name		WHEN (item.name_  = '' AND inv.inv_no <> '') THEN 'NotLinked ' || inv.their_name || ' - ' || inv.inv_no		WHEN (item.name_ <> '' AND inv.inv_no  = '') THEN item.name_		WHEN (item.name_ <> '' AND inv.inv_no  <>'') THEN item.name_    || ' - ' || inv.inv_no		ELSE 'Unknown'	END AS description      FROM inv LEFT JOIN item ON (inv.item_id  = item.id);ALTER VIEW api.inv_plus    OWNER TO user_change_structure;-------------------------------------------------- Register view------------------------------------------------CALL view_register ('api','inv_plus','Inv data, with lookup values.');