-------------------------------------- Define table-------------------------------------- What's with the crazy field order? Saving space. We rarely need this data, and there's a lot of it.-- I'll set up a view with a more natural column order.-- https://ascendco.atlassian.net/wiki/spaces/SON/pages/666501123/Arranging+Fields+to+Optimize+Disk+SpaceBEGIN;DROP TABLE IF EXISTS ascendco.assembly_prods CASCADE;CREATE TABLE IF NOT EXISTS ascendco.assembly_prods (	id uuid NOT NULL DEFAULT NULL,	data_file_id uuid NOT NULL DEFAULT NULL,	assembly_id uuid NOT NULL DEFAULT NULL,	item_prod_id uuid NOT NULL DEFAULT NULL,	last_updated_by_data_file_id uuid NOT NULL DEFAULT NULL,	created_dts timestamptz NOT NULL DEFAULT '-infinity',	updated_dts timestamptz NOT NULL DEFAULT '-infinity',	target integer NOT NULL DEFAULT 0,	found_ integer NOT NULL DEFAULT 0,	repair integer NOT NULL DEFAULT 0,	backup integer NOT NULL DEFAULT 0,	actual integer NOT NULL DEFAULT 0,	con_id integer NOT NULL DEFAULT 0,	assembly_pos integer NOT NULL DEFAULT 0,	marked_for_deletion boolean NOT NULL DEFAULT false,	created_by citext NOT NULL DEFAULT NULL,	updated_by citext NOT NULL DEFAULT NULL);ALTER TABLE ascendco.assembly_prods	ADD CONSTRAINT assembly_prods_id_pkey    PRIMARY KEY (id);ALTER TABLE ascendco.assembly_prods	OWNER TO user_change_structure;COMMIT;-------------------------------------- Build indexes-------------------------------------- Not adding many indexes. id will get a uique B-tree index by default since it's set as PRIMARY KEY.-- We can define more indexes, when needed for queries.-------------------------------------- Add triggers------------------------------------CREATE TRIGGER trigger_assembly_prods_after_delete	AFTER DELETE 	ON ascendco.assembly_prods	REFERENCING OLD TABLE AS deleted_rows 	FOR EACH STATEMENT	EXECUTE PROCEDURE ascendco.trigger_function_log_deletion_count();	CREATE TRIGGER trigger_assembly_prods_before_truncate	BEFORE TRUNCATE 	ON ascendco.assembly_prods	FOR EACH STATEMENT	EXECUTE PROCEDURE ascendco.trigger_function_log_truncation_count();