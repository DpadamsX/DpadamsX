-------------------------------------- Define table------------------------------------BEGIN;DROP TABLE IF EXISTS ascendco.domo_dataset CASCADE;CREATE TABLE IF NOT EXISTS ascendco.domo_dataset (	id uuid NOT NULL DEFAULT NULL,	dataset_name citext NOT NULL DEFAULT NULL,	rows_count integer NOT NULL DEFAULT 0,	columns_count integer NOT NULL DEFAULT 0,	created_at_dts timestamptz NOT NULL DEFAULT '-infinity',	updated_at_dts timestamptz NOT NULL DEFAULT '-infinity',	late_threshold_minutes integer NOT NULL DEFAULT 0);ALTER TABLE ascendco.domo_dataset	ADD CONSTRAINT domo_dataset_id_pkey    PRIMARY KEY (id);ALTER TABLE ascendco.domo_dataset	OWNER TO user_change_structure;COMMIT;-------------------------------------- Build indexes-------------------------------------- Nope. Postgres won't even bother with an index for searches on such a tiny table.-- Note: You always need an index for a unique constraint. PG defines that automatically for the PRIMARY.-------------------------------------- Add triggers------------------------------------CREATE TRIGGER trigger_domo_dataset_after_delete	AFTER DELETE	ON ascendco.domo_dataset	REFERENCING OLD TABLE AS deleted_rows	FOR EACH STATEMENT	EXECUTE PROCEDURE ascendco.trigger_function_log_deletion_count();CREATE TRIGGER trigger_domo_dataset_before_truncate	BEFORE TRUNCATE	ON ascendco.domo_dataset	FOR EACH STATEMENT	EXECUTE PROCEDURE ascendco.trigger_function_log_truncation_count();-------------------------------------- Manual Permissions for now------------------------------------GRANT SELECT, INSERT, UPDATE, DELETE ON ascendco.domo_dataset TO rds_super;GRANT SELECT, INSERT, UPDATE, DELETE ON ascendco.domo_dataset TO user_cleanup;GRANT SELECT ON ascendco.domo_dataset TO user_reporting;GRANT SELECT ON ascendco.domo_dataset TO user_iceberg;GRANT SELECT ON ascendco.domo_dataset TO user_iceberg_remote;GRANT SELECT ON ascendco.domo_dataset TO user_saws;GRANT SELECT ON ascendco.domo_dataset TO user_sonar;GRANT SELECT, INSERT, UPDATE, DELETE ON ascendco.domo_dataset TO user_leviathan;GRANT SELECT ON ascendco.domo_dataset TO user_change_structure;