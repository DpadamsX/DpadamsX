truncate table test_result;--------------------- Good inputs.-------------------select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass');select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB');select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB','The summary is all good!');select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB','The summary is all good!','{ "hello": "world"}'::jsonb);select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass',NULL);--------------------- Bad inputs--------------------- You have to run these one at a time until I build a better way.-- ERROR:  invalid input syntax for type uuid: "BAD UUID"select * from test_result_insert('BAD UUID','pass'); -- ERROR:  value for domain test_outcome violates check constraint "test_outcome_check".select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB'); -- ERROR:  domain test_outcome does not allow null values.select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',NULL,'BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB');-- ERROR:  invalid input syntax for type uuid: "BAD UUID".select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','pass','BAD UUID');-- ERROR:  value for domain test_outcome violates check constraint "test_outcome_check".select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB',NULL)-- ERROR:  value for domain test_outcome violates check constraint "test_outcome_check".select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB','The summary is all good',NULL)-- ERROR:  invalid input syntax for type json.select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB','The summary is all good','') -- ERROR:  invalid input syntax for type json.select * from test_result_insert('AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','','BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB','The summary is all good','{foo}')--------------------- Needed--------------------- There needs to be a FK on test_case_id, and tests for good/bad matches.