CREATE OR REPLACE FUNCTION dba.show_database_rights(d_name text)	RETURNS TABLE(		database_name text, 		user_name name, 		connect text, 		"create" text, 		temporary text)		AS $BODY$  	select d_name,				 u.usename,         CASE WHEN has_database_privilege(u.usename, 'nautilus', 'connect') = TRUE then 'X' ELSE ' ' END AS connect,         CASE WHEN has_database_privilege(u.usename, 'nautilus', 'create') = TRUE then 'X' ELSE ' ' END AS create,         CASE WHEN has_database_privilege(u.usename, 'nautilus', 'temporary') = TRUE then 'X' ELSE ' ' END AS temporary				  	from  pg_user u	order by u.usename;$BODY$	LANGUAGE sql	STABLE;ALTER FUNCTION dba.show_database_rights(text) 	OWNER TO user_bender;