/*bundle folder: fuzzy_compare_citext_citext_citext_citext_real_citextBuild date:   2020-05-11T23:54:48ZDescription:  fuzzy_compare_citext_citext_citext_citext_real_citext testsThis script combines the following files into a single transaction:Test setup scripts:fuzzy_compare__Bad__Empty_base_string__tests.sqlfuzzy_compare__Bad__Handicap_too_high__tests.sqlfuzzy_compare__Bad__Handicap_too_low__tests.sqlfuzzy_compare__Good__Defaults__tests.sqlfuzzy_compare__Good__Empty_base_id__tests.sqlfuzzy_compare__Good__Empty_comparison_id__tests.sqlfuzzy_compare__Good__Empty_comparison_string__tests.sqlfuzzy_compare__Good__Empty_IDs__tests.sqlfuzzy_compare__Good__Handicap_set__tests.sql*/BEGIN;-- fuzzy_compare__Bad__Empty_base_string__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Bad: Empty base string', 'select * from fuzzy_compare('''',''Tray Finochietto Retractor'')', '', 'Error: KC101, ERROR:  A base string must be supplied.CONTEXT:  PL/pgSQL function fuzzy_compare(citext,citext,citext,citext,real,citext) line 197 at RAISE', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Bad__Handicap_too_high__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Bad: Handicap too high', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'','''','''',2)', '', 'Error: KC202, ERROR:  handicap_factor value is out of range.HINT:  Value must be in the range 0-1.CONTEXT:  PL/pgSQL function fuzzy_compare(citext,citext,citext,citext,real,citext) line 214 at RAISE', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Bad__Handicap_too_low__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Bad: Handicap too low', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'','''','''',-1)', '', 'Error: KC202, ERROR:  handicap_factor value is out of range.HINT:  Value must be in the range 0-1.CONTEXT:  PL/pgSQL function fuzzy_compare(citext,citext,citext,citext,real,citext) line 214 at RAISE', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Defaults__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Defaults', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'')', '1 West Adult Finochietto Ret	Tray Finochietto Retractor			0.755719	monge_elkan_quadratic	0.566196	0.75246	0.375	0	0.645219	0.645219	0.428571	0.571111	0.755719	0.528254	0.712862	0.482759	0.375	0.517241', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Empty_base_id__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Empty base_id', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'','''',''comparison_id_here'')', '1 West Adult Finochietto Ret	Tray Finochietto Retractor		comparison_id_here	0.755719	monge_elkan_quadratic	0.566196	0.75246	0.375	0	0.645219	0.645219	0.428571	0.571111	0.755719	0.528254	0.712862	0.482759	0.375	0.517241', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Empty_comparison_id__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Empty comparison_id', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'',''base_id_here'','''')', '1 West Adult Finochietto Ret	Tray Finochietto Retractor	base_id_here		0.755719	monge_elkan_quadratic	0.566196	0.75246	0.375	0	0.645219	0.645219	0.428571	0.571111	0.755719	0.528254	0.712862	0.482759	0.375	0.517241', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Empty_comparison_string__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Empty comparison string', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'','''')', '1 West Adult Finochietto Ret				0	none	0	0	0	0	0	0	0	0	0	0	0	0	0	0', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Empty_IDs__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Empty IDs', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'','''','''')', '1 West Adult Finochietto Ret	Tray Finochietto Retractor			0.755719	monge_elkan_quadratic	0.566196	0.75246	0.375	0	0.645219	0.645219	0.428571	0.571111	0.755719	0.528254	0.712862	0.482759	0.375	0.517241', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');-- fuzzy_compare__Good__Handicap_set__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'fuzzy_compare', '(citext, citext, citext, citext, real, citext)', 'fuzzy_compare: Good: Handicap set', 'select * from fuzzy_compare(''1 West Adult Finochietto Ret'',''Tray Finochietto Retractor'','''','''',.35)', '1 West Adult Finochietto Ret	Tray Finochietto Retractor			0.755719	monge_elkan_quadratic	0.564767	0.75151	0.375	0	0.645219	0.645219	0.428571	0.571111	0.755719	0.521111	0.705719	0.482759	0.375	0.517241', '', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', FALSE, TRUE, '', '');COMMIT;