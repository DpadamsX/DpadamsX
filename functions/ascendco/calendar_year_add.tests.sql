/*bundle folder: test_setupBuild date:   2020-06-20T00:35:37ZDescription:  calendar_year_add bad parameter tests.This script combines the following files into a single transaction:Test setup scripts:calendar_year_add__Stard-end_date_range_is_too_long.__tests.sqlcalendar_year_add__Start_is_later_than_end__tests.sql*/BEGIN;-- calendar_year_add__Stard-end_date_range_is_too_long.__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'calendar_year_add', '(uuid, int2, date, date)', 'calendar_year_add: Stard-end date range is too long.', 'select * from calendar_year_add(''21c27277-3aa4-4396-9293-c342cc693adc''::uuid,2015::int2,''2015-01-1''::date,''2016-01-31''::date);', '', 'Error: KC401, ERROR:  Invalid date range: 2015-01-01 to 2016-01-31HINT:  396 days in the financial year. Financial years are expected to have 52 or 53 weeks for 364 or 371 days total.CONTEXT:  PL/pgSQL function calendar_year_add(uuid,smallint,date,date) line 28 at RAISE', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', TRUE, FALSE, '', '');-- calendar_year_add__Start_is_later_than_end__tests.sqlselect * from test_case_setup('Function', 'ascendco', 'calendar_year_add', '(uuid, int2, date, date)', 'calendar_year_add: Start is later than end', 'select * from calendar_year_add(''21c27277-3aa4-4396-9293-c342cc693adc''::uuid,2015::int2,''2015-12-26''::date,''2014-12-28''::date);', '', 'Error: KC400, ERROR:  Invalid date range: 2015-12-26 to 2014-12-28HINT:  The first day in the year is later than the last day in the year.CONTEXT:  PL/pgSQL function calendar_year_add(uuid,smallint,date,date) line 21 at RAISE', 'text', '{"comparator":"equals","column_order":"Ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure, user_iceberg}', TRUE, FALSE, '', '');COMMIT;