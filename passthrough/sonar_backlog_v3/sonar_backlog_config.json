{	"source_object": {		"DateHour": "2019-10-01.052019-10-01.05",		"DateTime": "2019-10-01T15:00:00Z",		"OverallBacklog": 5,		"OverallInstBacklog": 52,		"DirtyBacklog": 0,		"DirtyInstBacklog": 0,		"CleanBacklog": 0,		"CleanInstBacklog": 0,		"FacilityID": "81971378444E47719B33D50EBE8DD038",		"FacilityName": "KU Med",		"HsysID": "EC10FC209832874EB341B8F97123A23C",		"HsysName": "KU",		"BacklogDTS": "2019-10-01T15:00:00Z",		"Backlog_Local": "2019-10-01T10:00:00Z",		"Backlog_Date": "10/1/19",		"Backlog_DayOfWeek": 3,		"Backlog_DayName": "Tuesday",		"Backlog_HourOfDay": 10,		"Backlog_HourBin": 3,		"Backlog_Year": "2019",		"Backlog_YearNo": 2019,		"Backlog_MonthNo": 10,		"Backlog_Month": "Oct",		"Backlog_FiscalWeek": "44",		"Backlog_FiscalWeekNo": 44	},	"dataset_name": "Sonar_BackLog_PG",	"view_name": "sonar_backlog",	"view_name_with_version": "sonar_backlog_v3",	"view_version": 3,	"version_number_list": "3",	"table_name": "sonar_backlog",	"push_method_name": "SonarBackLog",	"push_method_full_name": "pgIO_PushDP_SonarBackLog",	"pgconfig_setup_method_name": "SonarBackLog",	"pgconfig_setup_method_full_name": "PgConfigSetup_DP_SonarBackLog",	"collection_function_name": "SonarData_GetBacklogCollection",	"postgres_view": "-- This view is selected in the 'sonar_backlog' master UNION view, and is not pulled by Domo directly.\r\r-- View: passthrough.sonar_backlog_v3\rDROP VIEW IF EXISTS passthrough.sonar_backlog_v3;\r\rCREATE OR REPLACE VIEW passthrough.sonar_backlog_v3 AS\r\r     SELECT\r            coalesce(hsys.name_,'') AS \"HsysName\",\r            coalesce(facility.name_,'') AS \"FacilityName\",\r            expanded_data.\"BacklogDTS\" AS \"BacklogDTS\",\r            expanded_data.\"OverallBacklog\" AS \"OverallBacklog\",\r            expanded_data.\"CleanBacklog\" AS \"CleanBacklog\",\r            expanded_data.\"DirtyInstBacklog\" AS \"DirtyInstBacklog\",\r            expanded_data.\"Backlog_FiscalWeekNo\" AS \"Backlog_FiscalWeekNo\",\r            expanded_data.\"Backlog_HourBin\" AS \"Backlog_HourBin\",\r            expanded_data.\"Backlog_DayOfWeek\" AS \"Backlog_DayOfWeek\",\r            expanded_data.\"Backlog_MonthNo\" AS \"Backlog_MonthNo\",\r            expanded_data.\"OverallInstBacklog\" AS \"OverallInstBacklog\",\r            expanded_data.\"Backlog_HourOfDay\" AS \"Backlog_HourOfDay\",\r            expanded_data.\"DirtyBacklog\" AS \"DirtyBacklog\",\r            expanded_data.\"Backlog_YearNo\" AS \"Backlog_YearNo\",\r            expanded_data.\"CleanInstBacklog\" AS \"CleanInstBacklog\",\r            expanded_data.\"Backlog_Date\" AS \"Backlog_Date\",\r            expanded_data.\"Backlog_Year\" AS \"Backlog_Year\",\r            expanded_data.\"DateTime\" AS \"DateTime\",\r            expanded_data.\"Backlog_Local\" AS \"Backlog_Local\",\r            expanded_data.\"Backlog_FiscalWeek\" AS \"Backlog_FiscalWeek\",\r            expanded_data.\"DateHour\" AS \"DateHour\",\r            expanded_data.\"Backlog_DayName\" AS \"Backlog_DayName\",\r            expanded_data.\"Backlog_Month\" AS \"Backlog_Month\"\r         \r       FROM domo_passthrough\r  LEFT JOIN facility on (domo_passthrough.facility_id = facility.id)\r  LEFT JOIN hsys     on (domo_passthrough.hsys_id = hsys.id)\rCROSS JOIN jsonb_to_recordset(domo_passthrough.data) AS expanded_data (\r            \"BacklogDTS\" timestamp,\r            \"OverallBacklog\" int4,\r            \"CleanBacklog\" int4,\r            \"DirtyInstBacklog\" int4,\r            \"Backlog_FiscalWeekNo\" int4,\r            \"Backlog_HourBin\" int4,\r            \"Backlog_DayOfWeek\" int4,\r            \"Backlog_MonthNo\" int4,\r            \"OverallInstBacklog\" int4,\r            \"Backlog_HourOfDay\" int4,\r            \"DirtyBacklog\" int4,\r            \"Backlog_YearNo\" int4,\r            \"CleanInstBacklog\" int4,\r            \"Backlog_Date\" date,\r            \"Backlog_Year\" citext,\r            \"DateTime\" citext,\r            \"Backlog_Local\" citext,\r            \"Backlog_FiscalWeek\" citext,\r            \"DateHour\" citext,\r            \"Backlog_DayName\" citext,\r            \"Backlog_Month\" citext)\r       \r    WHERE dataset_name = 'Sonar_BackLog_PG' AND\r          view_version = 3; -- Important! The view knows how to parse out JSONB data packed in this way.\r\rALTER TABLE passthrough.sonar_backlog_v3\r    OWNER TO user_change_structure;\r\r---------------------------------------------\r-- Register view\r---------------------------------------------\rCALL view_register ('passthrough','sonar_backlog_v3','Pulled into ''sonar_backlog'' master (UNION) view, not pulled directly. ','Sonar_BackLog_PG');",	"postgres_master_view": "/* \rThis view UNIONs all versions of the passthrough format for this DataSet.\r\rComment out or remove any obsolete versions. \r\rUpdate earlier versions, as needed, to produce the same column names as the latest version. \r*/\r\r-- View: passthrough.sonar_backlog\rDROP VIEW IF EXISTS passthrough.sonar_backlog;\r\rCREATE OR REPLACE VIEW passthrough.sonar_backlog AS\r\rSELECT * FROM sonar_backlog_v3;\r\rALTER TABLE passthrough.sonar_backlog\r    OWNER TO user_change_structure;    \r\r---------------------------------------------\r--Register view\r---------------------------------------------\rCALL view_register ('passthrough','sonar_backlog','Master (UNION) view for this DataSet.','Sonar_BackLog_PG');",	"push_code": "If (False)  // ===========================================\rpgIO_PushDP_SonarBackLog\r\r  // DESCRIPTION: Push sonar_backlog_v3 data into domo_passthrough.\r  // Called exclusively by pgIO_BatchPush_DomoPassthrough, which supplies the connection object.\r\r  // Set the following preference to enable pushes:\rPref_SetBool (\"pgIO_DPShouldWrite_Sonar_BackLog_PG\";True)\r\r// Insert this code into pgIO_BatchPush_DomoPassthrough:\r// Administrator: Aug 8, 2020\rIf (pgIO_DPIsEnabledForThisDataSet (\"Sonar_BackLog_PG\"))\r$view_version:=3\r$ran_okay:=pgIO_PushDP_SonarBackLog ($connection_o;$view_version)\rEnd if \r\r  // Paste these declarations into Compiler_PgIO_DomoPassthrough:\rC_BOOLEAN(pgIO_PushDP_SonarBackLog ;$0)\rC_OBJECT(pgIO_PushDP_SonarBackLog ;$1)\rC_LONGINT(pgIO_PushDP_SonarBackLog ;$2)\r\r// CREATED BY: Administrator\r// DATE: 08/08/2020\r// LAST MODIFIED: \rEnd if   // ============================================\r\rCode_Start (Current method name)\r\rC_BOOLEAN($0;$ran_okay)\rC_OBJECT($1;$connection_o)\rC_LONGINT($2;$view_version)\r\r$connection_o:=$1\r$view_version:=$2\r\r$ran_okay:=False\r\rC_TEXT($dataset_name)\r$dataset_name:=\"Sonar_BackLog_PG\"\r\rCase of \r: ($connection_o.connection_id<1)\rCode_Err (\"PgSQL_BadConnectionObject\";Object_ToText ($connection_o;True))\r\r:(pgIO_AppShouldPushTable (\"domo_passthrough\")=false)\r\r: (pgIO_DPIsEnabledForThisDataSet ($dataset_name)=False)\r\rElse \rC_COLLECTION($rows_c)\rC_LONGINT($last_con_id)\r$rows_c:=SonarData_GetBacklogCollection($dataset_name;->$last_con_id)  // Call your collection building function here: $rows_c:=FunctionName ($dataset_name;->$last_con_id)\r\rC_OBJECT($options_o)\r$options_o:=New object\r$options_o.dataset_name:=$dataset_name\r$options_o.table_name_for_prefs:=$dataset_name\r$options_o.last_conid:=$last_con_id\r$options_o.view_version:=$view_version // This is the version of the unpacking view on the PG side.\r$options_o.source_id_element_name:=\"FacilityID\" // Note: dataset_name + unique_id are unique in combination in domo_passthrough.\r$options_o.hsys_id_element_name:=\"HsysID\"\r$options_o.facility_id_element_name:=\"FacilityID\"\r$options_o.key_supplement_element_name:=\"DateHour\"\r$options_o.from_dts_element_name:=\"None\"\r$options_o.to_dts_element_name:=\"None\"\r$options_o.deletion_mode_name:=\"None\" // Records will be added or updated based on matches on the 'FacilityID' element.\r\r  // The version # below is for domo_passthrough inserts, the underlying table. It's *not* the specific format's version # that's set and used above.\r$ran_okay:=pgIO_Push_DomoPassthrough ($connection_o;2;$rows_c;$options_o)\rEnd case \r\r$0:=$ran_okay\r\rCode_End (Current method name)\r",	"postgres_table": "BEGIN;\r \rDROP TABLE IF EXISTS ascendco.sonar_backlog CASCADE;\r \rCREATE TABLE IF NOT EXISTS ascendco.sonar_backlog (\r    id uuid NOT NULL DEFAULT gen_random_uuid(),\r    hsys_id uuid NOT NULL DEFAULT NULL,\r    facility_id uuid NOT NULL DEFAULT NULL,\r    backlog_dts timestamp NOT NULL DEFAULT NULL,\r    overall_backlog int4 NOT NULL DEFAULT NULL,\r    clean_backlog int4 NOT NULL DEFAULT NULL,\r    dirty_inst_backlog int4 NOT NULL DEFAULT NULL,\r    backlog_fiscal_week_no int4 NOT NULL DEFAULT NULL,\r    backlog_hour_bin int4 NOT NULL DEFAULT NULL,\r    backlog_day_of_week int4 NOT NULL DEFAULT NULL,\r    backlog_month_no int4 NOT NULL DEFAULT NULL,\r    overall_inst_backlog int4 NOT NULL DEFAULT NULL,\r    backlog_hour_of_day int4 NOT NULL DEFAULT NULL,\r    dirty_backlog int4 NOT NULL DEFAULT NULL,\r    backlog_year_no int4 NOT NULL DEFAULT NULL,\r    clean_inst_backlog int4 NOT NULL DEFAULT NULL,\r    backlog_date date NOT NULL DEFAULT NULL,\r    facility_name citext NOT NULL DEFAULT NULL,\r    backlog_year citext NOT NULL DEFAULT NULL,\r    date_time citext NOT NULL DEFAULT NULL,\r    backlog_local citext NOT NULL DEFAULT NULL,\r    backlog_fiscal_week citext NOT NULL DEFAULT NULL,\r    date_hour citext NOT NULL DEFAULT NULL,\r    hsys_name citext NOT NULL DEFAULT NULL,\r    backlog_day_name citext NOT NULL DEFAULT NULL,\r    backlog_month citext NOT NULL DEFAULT NULL,\r \rCONSTRAINT sonar_backlog_id_pkey\r    PRIMARY KEY (id)\r);\r \rALTER TABLE ascendco.sonar_backlog OWNER TO user_change_structure;\rCOMMIT;\r",	"populate_sql": "INSERT INTO ascendco.sonar_backlog (\r            hsys_id,\r            facility_id,\r            backlog_dts,\r            overall_backlog,\r            clean_backlog,\r            dirty_inst_backlog,\r            backlog_fiscal_week_no,\r            backlog_hour_bin,\r            backlog_day_of_week,\r            backlog_month_no,\r            overall_inst_backlog,\r            backlog_hour_of_day,\r            dirty_backlog,\r            backlog_year_no,\r            clean_inst_backlog,\r            backlog_date,\r            facility_name,\r            backlog_year,\r            date_time,\r            backlog_local,\r            backlog_fiscal_week,\r            date_hour,\r            hsys_name,\r            backlog_day_name,\r            backlog_month)\r\r      SELECT \r             expanded_data.\"HsysID\",\r             expanded_data.\"FacilityID\",\r             expanded_data.\"BacklogDTS\",\r             expanded_data.\"OverallBacklog\",\r             expanded_data.\"CleanBacklog\",\r             expanded_data.\"DirtyInstBacklog\",\r             expanded_data.\"Backlog_FiscalWeekNo\",\r             expanded_data.\"Backlog_HourBin\",\r             expanded_data.\"Backlog_DayOfWeek\",\r             expanded_data.\"Backlog_MonthNo\",\r             expanded_data.\"OverallInstBacklog\",\r             expanded_data.\"Backlog_HourOfDay\",\r             expanded_data.\"DirtyBacklog\",\r             expanded_data.\"Backlog_YearNo\",\r             expanded_data.\"CleanInstBacklog\",\r             expanded_data.\"Backlog_Date\",\r             expanded_data.\"FacilityName\",\r             expanded_data.\"Backlog_Year\",\r             expanded_data.\"DateTime\",\r             expanded_data.\"Backlog_Local\",\r             expanded_data.\"Backlog_FiscalWeek\",\r             expanded_data.\"DateHour\",\r             expanded_data.\"HsysName\",\r             expanded_data.\"Backlog_DayName\",\r             expanded_data.\"Backlog_Month\"\r\r        FROM domo_passthrough\r  CROSS JOIN jsonb_to_recordset(domo_passthrough.data) as expanded_data (\r             \"HsysID\" uuid,\r             \"FacilityID\" uuid,\r             \"BacklogDTS\" timestamp,\r             \"OverallBacklog\" int4,\r             \"CleanBacklog\" int4,\r             \"DirtyInstBacklog\" int4,\r             \"Backlog_FiscalWeekNo\" int4,\r             \"Backlog_HourBin\" int4,\r             \"Backlog_DayOfWeek\" int4,\r             \"Backlog_MonthNo\" int4,\r             \"OverallInstBacklog\" int4,\r             \"Backlog_HourOfDay\" int4,\r             \"DirtyBacklog\" int4,\r             \"Backlog_YearNo\" int4,\r             \"CleanInstBacklog\" int4,\r             \"Backlog_Date\" date,\r             \"FacilityName\" citext,\r             \"Backlog_Year\" citext,\r             \"DateTime\" citext,\r             \"Backlog_Local\" citext,\r             \"Backlog_FiscalWeek\" citext,\r             \"DateHour\" citext,\r             \"HsysName\" citext,\r             \"Backlog_DayName\" citext,\r             \"Backlog_Month\" citext)\r\r       WHERE dataset_name = 'Sonar_BackLog_PG' AND\r             view_version = '3'\r",	"pgconfig_code": "If (False)\rPgConfigSetup_DP_SonarBackLog \r\r  // DESCRIPTION: Seed/reseed sonar_backlog passthrough.\r\r  // The naming convention is\r  // PgConfigSetup_DP_DataSetName, like\r  // PgConfigSetup_DP_SonarBacklog\r\r  // The goal here is to add a record, if none exists,\r  // and to refresh a record, if one does exist.\r  // That's what the \"force enable\" is about. In case there's\r  // a record in place, and it's set as disabled, you can leave\r  // the current enable/disable setting alone (no $1), or force\r  // the enabled state to True. Don't have a forced disabled option.\r  // But, you can alwys add one.\r  //\r  // Add the following line to the Domo Passthrough ('DP') section of PgConfig_SeedEverything\r$validation_c:=$validation_c.combine(PgConfigSetup_DP_SonarBackLog (True)) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\r\r  // Add these declarations to Compiler_PgConfig\rC_COLLECTION(PgConfigSetup_DP_SonarBackLog ;$0) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\rC_BOOLEAN(PgConfigSetup_DP_SonarBackLog ;$1) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\r\r  // CREATED BY: PgBuild_DomoPassBuildCode.\r  // DATE: Aug 8, 2020\r  // LAST MODIFIED:\rEnd if   // ============================================\r\rCode_Start (Current method name)\r\rC_COLLECTION($0;$validation_c)  // Should have 0 elements, anything else indicates an error.\rC_BOOLEAN($1;$force_enable)\r\r$force_enable:=False\rIf (Count parameters>=1)\r$force_enable:=$1\rEnd if \r\r$validation_c:=New collection\r\rC_TEXT($target_path)\rC_TEXT($target_id)\rC_BOOLEAN($loaded_b)\r$target_path:=\"ascendco.domo_passthrough.passthrough.sonar_backlog\"\r$target_id:=PgConfigTarget_GetIDByUnique ($target_path)\r\rIf ($target_id#\"\")\r$loaded_b:=PgConfigTarget_LoadByUnique ($target_path)\rIf (Not($loaded_b))\rCode_Err (\"\";\"Could not lock [PgIOTarget] record for \"+$target_path+\".\")\rEnd if \rEnd if \r\rIf (Code_NotErr )\r\rIf ($target_id=\"\")  // No record found.\r$target_id:=PgConfigTarget_New (\"ascendco\";\"domo_passthrough\";\"passthrough\";\"sonar_backlog\")\rEnd if \r\r  // Override defaults...some assignments may be for emphasis.\r[PgIOTarget]PushMethodName:=\"pgIO_PushDP_SonarBackLog\"\r[PgIOTarget]LastPushedTrackingType:=\"DTS\"\r[PgIOTarget]LastPushedFilterIDOn:=\"FacilityID\"\r[PgIOTarget]CollectionBuildingMethodName:=\"SonarData_GetBacklogCollection\"\r[PgIOTarget]DomoDataSetName:=\"Sonar_BackLog_PG\"\r[PgIOTarget]CopyTypeName:=pgIOMap_Copy_Type_Passthrough\r\r[PgIOTarget]DomoDataSetName:=\"Sonar_BackLog_PG\"\r\rIf ($force_enable)\r[PgIOTarget]PushIsEnabled:=True\rEnd if \r\rSAVE RECORD([PgIOTarget])\rUNLOAD RECORD([PgIOTarget])\r\r  //------------------------------------------------------------------------\r  // Mark start time to help identify unchanged (stale) records\r  //------------------------------------------------------------------------\rC_TEXT($start_dts)\r$start_dts:=utl_DT_Get \r\r  //------------------------------------------------------------------------\r  // Seed last pushed records\r  //------------------------------------------------------------------------\rPgConfigLastPushed_SeedTarget ($target_id)\r\r  //------------------------------------------------------------------------\r  // Define columns: Columns are tied to a specific version\r  //------------------------------------------------------------------------\rC_POINTER($nil)\r$nil:=Pointer_GetNil \r\rC_TEXT($version_id)\r\rIf (True)  \r$version_id:=PgConfigVersion_GetIDByTargetID ($target_id;3)\rIf (utl_UUID_isEmpty ($version_id))\r$version_id:=PgConfigVersion_New ($target_id;3)\rEnd if \r\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"source_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"hsys_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"facility_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"pg_con_id\";\"longint\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"view_version\";\"longint\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"dataset_name\";\"text\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"data\";\"object\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"key_supplement\";\"text\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"from_dts\";\"dts\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"to_dts\";\"dts\")\r\r  //------------------------------------------------------------------------\r  // Define the embedded columns in the domo_passthrough.data field\r  //------------------------------------------------------------------------\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"hsys_id\";\"\";\"\";\"uuid\";\"data\";\"HsysID\";\"HsysID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"facility_id\";\"\";\"\";\"uuid\";\"data\";\"FacilityID\";\"FacilityID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_dts\";\"\";\"\";\"timestamp\";\"data\";\"BacklogDTS\";\"BacklogDTS\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"overall_backlog\";\"\";\"\";\"int4\";\"data\";\"OverallBacklog\";\"OverallBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"clean_backlog\";\"\";\"\";\"int4\";\"data\";\"CleanBacklog\";\"CleanBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"dirty_inst_backlog\";\"\";\"\";\"int4\";\"data\";\"DirtyInstBacklog\";\"DirtyInstBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_fiscal_week_no\";\"\";\"\";\"int4\";\"data\";\"Backlog_FiscalWeekNo\";\"Backlog_FiscalWeekNo\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_hour_bin\";\"\";\"\";\"int4\";\"data\";\"Backlog_HourBin\";\"Backlog_HourBin\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_day_of_week\";\"\";\"\";\"int4\";\"data\";\"Backlog_DayOfWeek\";\"Backlog_DayOfWeek\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_month_no\";\"\";\"\";\"int4\";\"data\";\"Backlog_MonthNo\";\"Backlog_MonthNo\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"overall_inst_backlog\";\"\";\"\";\"int4\";\"data\";\"OverallInstBacklog\";\"OverallInstBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_hour_of_day\";\"\";\"\";\"int4\";\"data\";\"Backlog_HourOfDay\";\"Backlog_HourOfDay\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"dirty_backlog\";\"\";\"\";\"int4\";\"data\";\"DirtyBacklog\";\"DirtyBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_year_no\";\"\";\"\";\"int4\";\"data\";\"Backlog_YearNo\";\"Backlog_YearNo\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"clean_inst_backlog\";\"\";\"\";\"int4\";\"data\";\"CleanInstBacklog\";\"CleanInstBacklog\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_date\";\"\";\"\";\"date\";\"data\";\"Backlog_Date\";\"Backlog_Date\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"facility_name\";\"\";\"\";\"citext\";\"data\";\"FacilityName\";\"FacilityName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_year\";\"\";\"\";\"citext\";\"data\";\"Backlog_Year\";\"Backlog_Year\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"date_time\";\"\";\"\";\"citext\";\"data\";\"DateTime\";\"DateTime\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_local\";\"\";\"\";\"citext\";\"data\";\"Backlog_Local\";\"Backlog_Local\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_fiscal_week\";\"\";\"\";\"citext\";\"data\";\"Backlog_FiscalWeek\";\"Backlog_FiscalWeek\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"date_hour\";\"\";\"\";\"citext\";\"data\";\"DateHour\";\"DateHour\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"hsys_name\";\"\";\"\";\"citext\";\"data\";\"HsysName\";\"HsysName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_day_name\";\"\";\"\";\"citext\";\"data\";\"Backlog_DayName\";\"Backlog_DayName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"backlog_month\";\"\";\"\";\"citext\";\"data\";\"Backlog_Month\";\"Backlog_Month\";True;True)\rEnd if \r\r  //------------------------------------------------------------------------\r  // Set the active version\r  //------------------------------------------------------------------------\rPgConfigTarget_SetCurrentVersID ($target_id;$version_id)\r\r  //------------------------------------------------------------------------\r  // Define who *may* push\r  //------------------------------------------------------------------------\r  // Note: You can't change who may push in 4D alone, the permissions must be updated in Postgres.\r  // If you need to push as an unsupported user, let David know.\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Iceberg;True;False)  // User;May push?;May pull?\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Iceberg_Remote;True;False)\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Leviathan;True;False)\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Sonar;True;False)\r\r  //------------------------------------------------------------------------\r  // Cleanup any stale values\r  //------------------------------------------------------------------------\rPgConfig_Cleanup ($target_id;$version_id;$start_dts)\r\r  //------------------------------------------------------------------------\r  // Validate table and columns\r  //------------------------------------------------------------------------\rC_COLLECTION($validation_c)\r$validation_c:=PgConfigTarget_Validate ($target_path;\"\";True)\r\rEnd if \r\r$0:=$validation_c\r\rCode_End (Current method name)\r",	"element_map_c": [		{			"include": false,			"json_name": "HsysID",			"domo_name": "HsysID",			"postgres_name": "hsys_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": false,			"json_name": "FacilityID",			"domo_name": "FacilityID",			"postgres_name": "facility_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "BacklogDTS",			"domo_name": "BacklogDTS",			"postgres_name": "backlog_dts",			"is_supported": true,			"json_type": "string",			"postgres_type": "timestamp"		},		{			"include": true,			"json_name": "OverallBacklog",			"domo_name": "OverallBacklog",			"postgres_name": "overall_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "CleanBacklog",			"domo_name": "CleanBacklog",			"postgres_name": "clean_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "DirtyInstBacklog",			"domo_name": "DirtyInstBacklog",			"postgres_name": "dirty_inst_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_FiscalWeekNo",			"domo_name": "Backlog_FiscalWeekNo",			"postgres_name": "backlog_fiscal_week_no",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_HourBin",			"domo_name": "Backlog_HourBin",			"postgres_name": "backlog_hour_bin",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_DayOfWeek",			"domo_name": "Backlog_DayOfWeek",			"postgres_name": "backlog_day_of_week",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_MonthNo",			"domo_name": "Backlog_MonthNo",			"postgres_name": "backlog_month_no",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "OverallInstBacklog",			"domo_name": "OverallInstBacklog",			"postgres_name": "overall_inst_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_HourOfDay",			"domo_name": "Backlog_HourOfDay",			"postgres_name": "backlog_hour_of_day",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "DirtyBacklog",			"domo_name": "DirtyBacklog",			"postgres_name": "dirty_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_YearNo",			"domo_name": "Backlog_YearNo",			"postgres_name": "backlog_year_no",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "CleanInstBacklog",			"domo_name": "CleanInstBacklog",			"postgres_name": "clean_inst_backlog",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Backlog_Date",			"domo_name": "Backlog_Date",			"postgres_name": "backlog_date",			"is_supported": true,			"json_type": "string",			"postgres_type": "date"		},		{			"include": true,			"json_name": "FacilityName",			"domo_name": "FacilityName",			"postgres_name": "facility_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Backlog_Year",			"domo_name": "Backlog_Year",			"postgres_name": "backlog_year",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "DateTime",			"domo_name": "DateTime",			"postgres_name": "date_time",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Backlog_Local",			"domo_name": "Backlog_Local",			"postgres_name": "backlog_local",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Backlog_FiscalWeek",			"domo_name": "Backlog_FiscalWeek",			"postgres_name": "backlog_fiscal_week",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "DateHour",			"domo_name": "DateHour",			"postgres_name": "date_hour",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "HsysName",			"domo_name": "HsysName",			"postgres_name": "hsys_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Backlog_DayName",			"domo_name": "Backlog_DayName",			"postgres_name": "backlog_day_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Backlog_Month",			"domo_name": "Backlog_Month",			"postgres_name": "backlog_month",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		}	],	"build_hint": "",	"delete_date_range": false,	"source_id_name": "FacilityID",	"hsys_id_name": "HsysID",	"facility_id_name": "FacilityID",	"key_supplement_name": "DateHour",	"from_dts_name": "None",	"to_dts_name": "None",	"deletion_mode_name": "None",	"tracking_type_name": "DTS",	"tracking_filter_on_name": "FacilityID",	"pgIOMap_entry": "// sonar_backlog_v3\rIf (Code_NotErr )\r<>pgIOMap_STATIC_c.push(PgIOMap_NewEntry (New object(\\\r\"table_name\";\"domo_passthrough\";\\\r\"schema_name\";\"ascendco\";\\\r\"table_type\";\"view\";\\\r\"passthrough_schema_name\";\"passthrough\";\\\r\"passthrough_view_name\";\"sonar_backlog_v3\";\\\r\"domo_dataset\";\"Sonar_BackLog_PG\";\\\r\"push_method_name\";\"Sonar_BackLog_PG\";\\\r\"copy_type_name\";pgIOMap_Copy_Type_Passthrough;\\\r\"ib_source_table_name\";\"\";\\\r\"ib_source_table_number\";0;\\\r\"auto_delete_records\";False;\\\r\"may_push\";Text_ParametersToCommaList (pgIO_App_Type_IceBerg;pgIO_App_Type_IceBerg_Remote;pgIO_App_Type_Leviathan;pgIO_App_Type_SAWS;pgIO_App_Type_Sonar);\\\r\"comment\";\"\")))\rIf ($load_field_map)\r\r// The comments on each line are the Domo column name calculated when this view was set up.\r// Only included elements are included in the map, the stored data may have other columns, like faciltity_id.\r// As formats evolve, the columns may be expanded or renamed a bit manually, so only use the Domo names here as a guide.\r$field_map_c:=New collection\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_dts\";\"timestamp\")// BacklogDTS\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"overall_backlog\";\"int4\")// OverallBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"clean_backlog\";\"int4\")// CleanBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"dirty_inst_backlog\";\"int4\")// DirtyInstBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_fiscal_week_no\";\"int4\")// Backlog_FiscalWeekNo\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_hour_bin\";\"int4\")// Backlog_HourBin\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_day_of_week\";\"int4\")// Backlog_DayOfWeek\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_month_no\";\"int4\")// Backlog_MonthNo\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"overall_inst_backlog\";\"int4\")// OverallInstBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_hour_of_day\";\"int4\")// Backlog_HourOfDay\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"dirty_backlog\";\"int4\")// DirtyBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_year_no\";\"int4\")// Backlog_YearNo\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"clean_inst_backlog\";\"int4\")// CleanInstBacklog\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_date\";\"date\")// Backlog_Date\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"facility_name\";\"citext\")// FacilityName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_year\";\"citext\")// Backlog_Year\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"date_time\";\"citext\")// DateTime\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_local\";\"citext\")// Backlog_Local\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_fiscal_week\";\"citext\")// Backlog_FiscalWeek\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"date_hour\";\"citext\")// DateHour\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"hsys_name\";\"citext\")// HsysName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_day_name\";\"citext\")// Backlog_DayName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"backlog_month\";\"citext\")// Backlog_Month\r\rOB SET(<>pgIOMap_STATIC_c[<>pgIOMap_STATIC_c.length-1];\"field_map\";$field_map_c)\rEnd if\rEnd if\r\r"}