{	"source_object": {		"Event": "ToButNotFromOR",		"scanID": "14FBAA80A9E7CA4F83E7E0F6FF14660D",		"scannedRecordID": "00A86062BB324B1FAEC42E52B30632B6",		"facilityName": "ART",		"scannedType": "Inv",		"scannedDesc": "Set Zoll Adult Defib Paddles Internal - 06",		"locationDesc": "To ART OR 10",		"scannedDTS": "2019-11-05T19:12:19Z",		"scannedBy": "Devin Holmes",		"state": "Surgery",		"substate": "Surgery",		"scannedAt": "05/11/2019 02:12 PM",		"HsysID": "17EA1ED487B00840912FD29DE2A06F5D",		"HsysName": "MUSC",		"FacilityID": "315956898841B34F90D9DA8454FCE30E",		"timezone": "Eastern",		"Specialty": "Multi",		"SpecialityID": "9906EAA696EA4F3D9163CA18C6E67A38",		"ItemType": "Set",		"ItemTypeID": "9E414DD865EF427CBC96A8D2B753AB46",		"ItemName": "Set Zoll Adult Defib Paddles Internal",		"InvName": "Set Zoll Adult Defib Paddles Internal - 06",		"NumInst": 5,		"Category": "Facility",		"ClinicDeptName": "",		"ItemID": "61F0A5282D502F4F99CB6902E4880C16",		"InvID": "00A86062BB324B1FAEC42E52B30632B6",		"ScanDTS": "2019-11-05T19:12:19Z",		"Scan_Local": "2019-11-05T14:12:19Z",		"Scan_Date": "2019-11-05T00:00:00.000Z",		"Scan_DayOfWeek": 3,		"Scan_DayName": "Tuesday",		"Scan_HourOfDay": 14,		"Scan_HourBin": 4	},	"dataset_name": "MUSC_OrScansInOut_PG",	"view_name": "musc_orscansinout",	"view_name_with_version": "musc_orscansinout_v1",	"view_version": 1,	"version_number_list": "1",	"table_name": "musc_orscansinout",	"push_method_name": "MUSC_OrScansInOut",	"push_method_full_name": "pgIO_PushDP_MUSC_OrScansInOut",	"pgconfig_setup_method_name": "ScansInOut",	"pgconfig_setup_method_full_name": "PgConfigSetup_DP_ScansInOut",	"collection_function_name": "etl_MUSC_InOutORDetail2",	"postgres_view": "-- This view is selected in the 'musc_orscansinout' master UNION view, and is not pulled by Domo directly.\r\r-- View: passthrough.musc_orscansinout_v1\rDROP VIEW IF EXISTS passthrough.musc_orscansinout_v1;\r\rCREATE OR REPLACE VIEW passthrough.musc_orscansinout_v1 AS\r\r     SELECT\r            coalesce(hsys.name_,'') AS \"HsysName\",\r            coalesce(facility.name_,'') AS \"FacilityName\",\r            expanded_data.\"Category\" AS \"Category\",\r            expanded_data.\"ClinicDeptName\" AS \"ClinicDeptName\",\r            expanded_data.\"Event\" AS \"Event\",\r            expanded_data.\"InvName\" AS \"InvName\",\r            expanded_data.\"ItemName\" AS \"ItemName\",\r            expanded_data.\"ItemType\" AS \"ItemType\",\r            expanded_data.\"locationDesc\" AS \"locationDesc\",\r            expanded_data.\"NumInst\" AS \"NumInst\",\r            expanded_data.\"Scan_Date\" AS \"Scan_Date\",\r            expanded_data.\"Scan_DayName\" AS \"Scan_DayName\",\r            expanded_data.\"Scan_DayOfWeek\" AS \"Scan_DayOfWeek\",\r            expanded_data.\"Scan_HourBin\" AS \"Scan_HourBin\",\r            expanded_data.\"Scan_HourOfDay\" AS \"Scan_HourOfDay\",\r            expanded_data.\"Scan_Local\" AS \"Scan_Local\",\r            expanded_data.\"ScanDTS\" AS \"ScanDTS\",\r            expanded_data.\"scanID\" AS \"scanID\",\r            expanded_data.\"scannedAt\" AS \"scannedAt\",\r            expanded_data.\"scannedBy\" AS \"scannedBy\",\r            expanded_data.\"scannedDesc\" AS \"scannedDesc\",\r            expanded_data.\"scannedDTS\" AS \"scannedDTS\",\r            expanded_data.\"scannedType\" AS \"scannedType\",\r            expanded_data.\"Specialty\" AS \"Specialty\",\r            expanded_data.\"state\" AS \"state\",\r            expanded_data.\"substate\" AS \"substate\",\r            expanded_data.\"timezone\" AS \"timezone\"\r         \r       FROM domo_passthrough\r  LEFT JOIN facility on (domo_passthrough.facility_id = facility.id)\r  LEFT JOIN hsys     on (domo_passthrough.hsys_id = hsys.id)\rCROSS JOIN jsonb_to_recordset(domo_passthrough.data) AS expanded_data (\r            \"Category\" citext,\r            \"ClinicDeptName\" citext,\r            \"Event\" citext,\r            \"InvName\" citext,\r            \"ItemName\" citext,\r            \"ItemType\" citext,\r            \"locationDesc\" citext,\r            \"NumInst\" int4,\r            \"Scan_Date\" date,\r            \"Scan_DayName\" citext,\r            \"Scan_DayOfWeek\" int4,\r            \"Scan_HourBin\" int4,\r            \"Scan_HourOfDay\" int4,\r            \"Scan_Local\" timestamp,\r            \"ScanDTS\" timestamp,\r            \"scanID\" uuid,\r            \"scannedAt\" timestamp,\r            \"scannedBy\" citext,\r            \"scannedDesc\" citext,\r            \"scannedDTS\" timestamp,\r            \"scannedType\" citext,\r            \"Specialty\" citext,\r            \"state\" citext,\r            \"substate\" citext,\r            \"timezone\" citext)\r       \r    WHERE dataset_name = 'MUSC_OrScansInOut_PG' AND\r          view_version = 1; -- Important! The view knows how to parse out JSONB data packed in this way.\r\rALTER TABLE passthrough.musc_orscansinout_v1\r    OWNER TO user_change_structure;\r\r---------------------------------------------\r-- Register view\r---------------------------------------------\rCALL view_register ('passthrough','musc_orscansinout_v1','Pulled into ''musc_orscansinout'' master (UNION) view, not pulled directly. ','MUSC_OrScansInOut_PG');",	"postgres_master_view": "/* \rThis view UNIONs all versions of the passthrough format for this DataSet.\r\rComment out or remove any obsolete versions. \r\rUpdate earlier versions, as needed, to produce the same column names as the latest version. \r*/\r\r-- View: passthrough.musc_orscansinout\rDROP VIEW IF EXISTS passthrough.musc_orscansinout;\r\rCREATE OR REPLACE VIEW passthrough.musc_orscansinout AS\r\rSELECT * FROM musc_orscansinout_v1;\r\rALTER TABLE passthrough.musc_orscansinout\r    OWNER TO user_change_structure;    \r\r---------------------------------------------\r--Register view\r---------------------------------------------\rCALL view_register ('passthrough','musc_orscansinout','Master (UNION) view for this DataSet.','MUSC_OrScansInOut_PG');",	"push_code": "If (False)  // ===========================================\rpgIO_PushDP_MUSC_OrScansInOut\r\r  // DESCRIPTION: Push musc_orscansinout_v1 data into domo_passthrough.\r  // Called exclusively by pgIO_BatchPush_DomoPassthrough, which supplies the connection object.\r\r  // Set the following preference to enable pushes:\rPref_SetBool (\"pgIO_DPShouldWrite_MUSC_OrScansInOut_PG\";True)\r\r// Insert this code into pgIO_BatchPush_DomoPassthrough:\r// Administrator: Aug 8, 2020\rIf (pgIO_DPIsEnabledForThisDataSet (\"MUSC_OrScansInOut_PG\"))\r$view_version:=1\r$ran_okay:=pgIO_PushDP_MUSC_OrScansInOut ($connection_o;$view_version)\rEnd if \r\r  // Paste these declarations into Compiler_PgIO_DomoPassthrough:\rC_BOOLEAN(pgIO_PushDP_MUSC_OrScansInOut ;$0)\rC_OBJECT(pgIO_PushDP_MUSC_OrScansInOut ;$1)\rC_LONGINT(pgIO_PushDP_MUSC_OrScansInOut ;$2)\r\r// CREATED BY: Administrator\r// DATE: 08/08/2020\r// LAST MODIFIED: \rEnd if   // ============================================\r\rCode_Start (Current method name)\r\rC_BOOLEAN($0;$ran_okay)\rC_OBJECT($1;$connection_o)\rC_LONGINT($2;$view_version)\r\r$connection_o:=$1\r$view_version:=$2\r\r$ran_okay:=False\r\rC_TEXT($dataset_name)\r$dataset_name:=\"MUSC_OrScansInOut_PG\"\r\rCase of \r: ($connection_o.connection_id<1)\rCode_Err (\"PgSQL_BadConnectionObject\";Object_ToText ($connection_o;True))\r\r:(pgIO_AppShouldPushTable (\"domo_passthrough\")=false)\r\r: (pgIO_DPIsEnabledForThisDataSet ($dataset_name)=False)\r\rElse \rC_COLLECTION($rows_c)\rC_LONGINT($last_con_id)\r$rows_c:=etl_MUSC_InOutORDetail2($dataset_name;->$last_con_id)  // Call your collection building function here: $rows_c:=FunctionName ($dataset_name;->$last_con_id)\r\rC_OBJECT($options_o)\r$options_o:=New object\r$options_o.dataset_name:=$dataset_name\r$options_o.table_name_for_prefs:=$dataset_name\r$options_o.last_conid:=$last_con_id\r$options_o.view_version:=$view_version // This is the version of the unpacking view on the PG side.\r$options_o.source_id_element_name:=\"scanID\" // Note: dataset_name + unique_id are unique in combination in domo_passthrough.\r$options_o.hsys_id_element_name:=\"HsysID\"\r$options_o.facility_id_element_name:=\"FacilityID\"\r$options_o.key_supplement_element_name:=\"None\"\r$options_o.from_dts_element_name:=\"None\"\r$options_o.to_dts_element_name:=\"None\"\r$options_o.deletion_mode_name:=\"None\" // Records will be added or updated based on matches on the 'scanID' element.\r\r  // The version # below is for domo_passthrough inserts, the underlying table. It's *not* the specific format's version # that's set and used above.\r$ran_okay:=pgIO_Push_DomoPassthrough ($connection_o;2;$rows_c;$options_o)\rEnd case \r\r$0:=$ran_okay\r\rCode_End (Current method name)\r",	"postgres_table": "BEGIN;\r \rDROP TABLE IF EXISTS ascendco.musc_orscansinout CASCADE;\r \rCREATE TABLE IF NOT EXISTS ascendco.musc_orscansinout (\r    id uuid NOT NULL DEFAULT gen_random_uuid(),\r    category citext NOT NULL DEFAULT NULL,\r    clinic_dept_name citext NOT NULL DEFAULT NULL,\r    event_ citext NOT NULL DEFAULT NULL,\r    facility_id uuid NOT NULL DEFAULT NULL,\r    facility_name citext NOT NULL DEFAULT NULL,\r    hsys_id uuid NOT NULL DEFAULT NULL,\r    hsys_name citext NOT NULL DEFAULT NULL,\r    inv_id uuid NOT NULL DEFAULT NULL,\r    inv_name citext NOT NULL DEFAULT NULL,\r    item_id uuid NOT NULL DEFAULT NULL,\r    item_name citext NOT NULL DEFAULT NULL,\r    item_type citext NOT NULL DEFAULT NULL,\r    item_type_id uuid NOT NULL DEFAULT NULL,\r    location_desc citext NOT NULL DEFAULT NULL,\r    num_inst int4 NOT NULL DEFAULT NULL,\r    scan_date date NOT NULL DEFAULT NULL,\r    scan_day_name citext NOT NULL DEFAULT NULL,\r    scan_day_of_week int4 NOT NULL DEFAULT NULL,\r    scan_hour_bin int4 NOT NULL DEFAULT NULL,\r    scan_hour_of_day int4 NOT NULL DEFAULT NULL,\r    scan_local timestamp NOT NULL DEFAULT NULL,\r    scan_dts timestamp NOT NULL DEFAULT NULL,\r    scan_id uuid NOT NULL DEFAULT NULL,\r    scanned_at timestamp NOT NULL DEFAULT NULL,\r    scanned_by citext NOT NULL DEFAULT NULL,\r    scanned_desc citext NOT NULL DEFAULT NULL,\r    scanned_dts timestamp NOT NULL DEFAULT NULL,\r    scanned_record_id uuid NOT NULL DEFAULT NULL,\r    scanned_type citext NOT NULL DEFAULT NULL,\r    speciality_id uuid NOT NULL DEFAULT NULL,\r    specialty citext NOT NULL DEFAULT NULL,\r    state_ citext NOT NULL DEFAULT NULL,\r    substate citext NOT NULL DEFAULT NULL,\r    timezone citext NOT NULL DEFAULT NULL,\r \rCONSTRAINT musc_orscansinout_id_pkey\r    PRIMARY KEY (id)\r);\r \rALTER TABLE ascendco.musc_orscansinout OWNER TO user_change_structure;\rCOMMIT;\r",	"populate_sql": "INSERT INTO ascendco.musc_orscansinout (\r            category,\r            clinic_dept_name,\r            event_,\r            facility_id,\r            facility_name,\r            hsys_id,\r            hsys_name,\r            inv_id,\r            inv_name,\r            item_id,\r            item_name,\r            item_type,\r            item_type_id,\r            location_desc,\r            num_inst,\r            scan_date,\r            scan_day_name,\r            scan_day_of_week,\r            scan_hour_bin,\r            scan_hour_of_day,\r            scan_local,\r            scan_dts,\r            scan_id,\r            scanned_at,\r            scanned_by,\r            scanned_desc,\r            scanned_dts,\r            scanned_record_id,\r            scanned_type,\r            speciality_id,\r            specialty,\r            state_,\r            substate,\r            timezone)\r\r      SELECT \r             expanded_data.\"Category\",\r             expanded_data.\"ClinicDeptName\",\r             expanded_data.\"Event\",\r             expanded_data.\"FacilityID\",\r             expanded_data.\"facilityName\",\r             expanded_data.\"HsysID\",\r             expanded_data.\"HsysName\",\r             expanded_data.\"InvID\",\r             expanded_data.\"InvName\",\r             expanded_data.\"ItemID\",\r             expanded_data.\"ItemName\",\r             expanded_data.\"ItemType\",\r             expanded_data.\"ItemTypeID\",\r             expanded_data.\"locationDesc\",\r             expanded_data.\"NumInst\",\r             expanded_data.\"Scan_Date\",\r             expanded_data.\"Scan_DayName\",\r             expanded_data.\"Scan_DayOfWeek\",\r             expanded_data.\"Scan_HourBin\",\r             expanded_data.\"Scan_HourOfDay\",\r             expanded_data.\"Scan_Local\",\r             expanded_data.\"ScanDTS\",\r             expanded_data.\"scanID\",\r             expanded_data.\"scannedAt\",\r             expanded_data.\"scannedBy\",\r             expanded_data.\"scannedDesc\",\r             expanded_data.\"scannedDTS\",\r             expanded_data.\"scannedRecordID\",\r             expanded_data.\"scannedType\",\r             expanded_data.\"SpecialityID\",\r             expanded_data.\"Specialty\",\r             expanded_data.\"state\",\r             expanded_data.\"substate\",\r             expanded_data.\"timezone\"\r\r        FROM domo_passthrough\r  CROSS JOIN jsonb_to_recordset(domo_passthrough.data) as expanded_data (\r             \"Category\" citext,\r             \"ClinicDeptName\" citext,\r             \"Event\" citext,\r             \"FacilityID\" uuid,\r             \"facilityName\" citext,\r             \"HsysID\" uuid,\r             \"HsysName\" citext,\r             \"InvID\" uuid,\r             \"InvName\" citext,\r             \"ItemID\" uuid,\r             \"ItemName\" citext,\r             \"ItemType\" citext,\r             \"ItemTypeID\" uuid,\r             \"locationDesc\" citext,\r             \"NumInst\" int4,\r             \"Scan_Date\" date,\r             \"Scan_DayName\" citext,\r             \"Scan_DayOfWeek\" int4,\r             \"Scan_HourBin\" int4,\r             \"Scan_HourOfDay\" int4,\r             \"Scan_Local\" timestamp,\r             \"ScanDTS\" timestamp,\r             \"scanID\" uuid,\r             \"scannedAt\" timestamp,\r             \"scannedBy\" citext,\r             \"scannedDesc\" citext,\r             \"scannedDTS\" timestamp,\r             \"scannedRecordID\" uuid,\r             \"scannedType\" citext,\r             \"SpecialityID\" uuid,\r             \"Specialty\" citext,\r             \"state\" citext,\r             \"substate\" citext,\r             \"timezone\" citext)\r\r       WHERE dataset_name = 'MUSC_OrScansInOut_PG' AND\r             view_version = '1'\r",	"pgconfig_code": "If (False)\rPgConfigSetup_DP_ScansInOut \r\r  // DESCRIPTION: Seed/reseed sonar_backlog passthrough.\r\r  // The naming convention is\r  // PgConfigSetup_DP_DataSetName, like\r  // PgConfigSetup_DP_SonarBacklog\r\r  // The goal here is to add a record, if none exists,\r  // and to refresh a record, if one does exist.\r  // That's what the \"force enable\" is about. In case there's\r  // a record in place, and it's set as disabled, you can leave\r  // the current enable/disable setting alone (no $1), or force\r  // the enabled state to True. Don't have a forced disabled option.\r  // But, you can alwys add one.\r  //\r  // Add the following line to the Domo Passthrough ('DP') section of PgConfig_SeedEverything\r$validation_c:=$validation_c.combine(PgConfigSetup_DP_ScansInOut (True)) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\r\r  // Add these declarations to\rCompiler_PgConfig\r\rC_COLLECTION(PgConfigSetup_DP_ScansInOut ;$0) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\rC_BOOLEAN(PgConfigSetup_DP_ScansInOut ;$1) // Modified by: PgBuild_DomoPassBuildCode on Aug 8, 2020\r\r  // CREATED BY: PgBuild_DomoPassBuildCode.\r  // DATE: Aug 8, 2020\r  // LAST MODIFIED:\rEnd if   // ============================================\r\rCode_Start (Current method name)\r\rC_COLLECTION($0;$validation_c)  // Should have 0 elements, anything else indicates an error.\rC_BOOLEAN($1;$force_enable)\r\r$force_enable:=False\rIf (Count parameters>=1)\r$force_enable:=$1\rEnd if \r\r$validation_c:=New collection\r\rC_TEXT($target_path)\rC_TEXT($target_id)\rC_BOOLEAN($loaded_b)\r$target_path:=\"ascendco.domo_passthrough.passthrough.musc_orscansinout\"\r$target_id:=PgConfigTarget_GetIDByUnique ($target_path)\r\rIf ($target_id#\"\")\r$loaded_b:=PgConfigTarget_LoadByUnique ($target_path)\rIf (Not($loaded_b))\rCode_Err (\"\";\"Could not lock [PgIOTarget] record for \"+$target_path+\".\")\rEnd if \rEnd if \r\rIf (Code_NotErr )\r\rIf ($target_id=\"\")  // No record found.\r$target_id:=PgConfigTarget_New (\"ascendco\";\"domo_passthrough\";\"passthrough\";\"musc_orscansinout_v1\")\rEnd if \r\r  // Override defaults...some assignments may be for emphasis.\r[PgIOTarget]PushMethodName:=\"pgIO_PushDP_MUSC_OrScansInOut\"\r[PgIOTarget]LastPushedTrackingType:=\"^tracking_type^\"\r[PgIOTarget]LastPushedFilterIDOn:=\"^filter_id_on_name^\"\r[PgIOTarget]CollectionBuildingMethodName:=\"etl_MUSC_InOutORDetail2\"\r[PgIOTarget]DomoDataSetName:=\"MUSC_OrScansInOut_PG\"\r[PgIOTarget]CopyTypeName:=pgIOMap_Copy_Type_Passthrough\r\r[PgIOTarget]DomoDataSetName:=\"MUSC_OrScansInOut_PG\"\r\rIf ($force_enable)\r[PgIOTarget]PushIsEnabled:=True\rEnd if \r\rSAVE RECORD([PgIOTarget])\rUNLOAD RECORD([PgIOTarget])\r\r  //------------------------------------------------------------------------\r  // Mark start time to help identify unchanged (stale) records\r  //------------------------------------------------------------------------\rC_TEXT($start_dts)\r$start_dts:=utl_DT_Get \r\r  //------------------------------------------------------------------------\r  // Seed last pushed records\r  //------------------------------------------------------------------------\rPgConfigLastPushed_SeedTarget ($target_id)\r\r  //------------------------------------------------------------------------\r  // Define columns: Columns are tied to a specific version\r  //------------------------------------------------------------------------\rC_POINTER($nil)\r$nil:=Pointer_GetNil \r\rC_TEXT($version_id)\r\rIf (True)  \r$version_id:=PgConfigVersion_GetIDByTargetID ($target_id;\"1\")\rIf (utl_UUID_isEmpty ($version_id))\r$version_id:=PgConfigVersion_New ($target_id;\"1\")\rEnd if \rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"source_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"hsys_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"facility_id\";\"uuid\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"pg_con_id\";\"longint\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"view_version\";\"longint\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"dataset_name\";\"text\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"data\";\"object\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"key_supplement\";\"text\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"from_dts\";\"dts\")\rPgConfigColumn_Upsert ($version_id;\"calculated\";$nil;\"to_dts\";\"dts\")\r\r  //------------------------------------------------------------------------\r  // Define the embedded columns in the domo_passthrough.data field\r  //------------------------------------------------------------------------\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"category\";\"\";\"\";\"citext\";\"data\";\"Category\";\"Category\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"clinic_dept_name\";\"\";\"\";\"citext\";\"data\";\"ClinicDeptName\";\"ClinicDeptName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"event_\";\"\";\"\";\"citext\";\"data\";\"Event\";\"Event\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"facility_id\";\"\";\"\";\"uuid\";\"data\";\"FacilityID\";\"FacilityID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"facility_name\";\"\";\"\";\"citext\";\"data\";\"facilityName\";\"facilityName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"hsys_id\";\"\";\"\";\"uuid\";\"data\";\"HsysID\";\"HsysID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"hsys_name\";\"\";\"\";\"citext\";\"data\";\"HsysName\";\"HsysName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"inv_id\";\"\";\"\";\"uuid\";\"data\";\"InvID\";\"InvID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"inv_name\";\"\";\"\";\"citext\";\"data\";\"InvName\";\"InvName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"item_id\";\"\";\"\";\"uuid\";\"data\";\"ItemID\";\"ItemID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"item_name\";\"\";\"\";\"citext\";\"data\";\"ItemName\";\"ItemName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"item_type\";\"\";\"\";\"citext\";\"data\";\"ItemType\";\"ItemType\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"item_type_id\";\"\";\"\";\"uuid\";\"data\";\"ItemTypeID\";\"ItemTypeID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"location_desc\";\"\";\"\";\"citext\";\"data\";\"locationDesc\";\"locationDesc\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"num_inst\";\"\";\"\";\"int4\";\"data\";\"NumInst\";\"NumInst\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_date\";\"\";\"\";\"date\";\"data\";\"Scan_Date\";\"Scan_Date\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_day_name\";\"\";\"\";\"citext\";\"data\";\"Scan_DayName\";\"Scan_DayName\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_day_of_week\";\"\";\"\";\"int4\";\"data\";\"Scan_DayOfWeek\";\"Scan_DayOfWeek\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_hour_bin\";\"\";\"\";\"int4\";\"data\";\"Scan_HourBin\";\"Scan_HourBin\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_hour_of_day\";\"\";\"\";\"int4\";\"data\";\"Scan_HourOfDay\";\"Scan_HourOfDay\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_local\";\"\";\"\";\"timestamp\";\"data\";\"Scan_Local\";\"Scan_Local\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_dts\";\"\";\"\";\"timestamp\";\"data\";\"ScanDTS\";\"ScanDTS\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scan_id\";\"\";\"\";\"uuid\";\"data\";\"scanID\";\"scanID\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_at\";\"\";\"\";\"timestamp\";\"data\";\"scannedAt\";\"scannedAt\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_by\";\"\";\"\";\"citext\";\"data\";\"scannedBy\";\"scannedBy\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_desc\";\"\";\"\";\"citext\";\"data\";\"scannedDesc\";\"scannedDesc\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_dts\";\"\";\"\";\"timestamp\";\"data\";\"scannedDTS\";\"scannedDTS\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_record_id\";\"\";\"\";\"uuid\";\"data\";\"scannedRecordID\";\"scannedRecordID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"scanned_type\";\"\";\"\";\"citext\";\"data\";\"scannedType\";\"scannedType\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"speciality_id\";\"\";\"\";\"uuid\";\"data\";\"SpecialityID\";\"SpecialityID\";True;False)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"specialty\";\"\";\"\";\"citext\";\"data\";\"Specialty\";\"Specialty\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"state_\";\"\";\"\";\"citext\";\"data\";\"state\";\"state\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"substate\";\"\";\"\";\"citext\";\"data\";\"substate\";\"substate\";True;True)\rPgConfigColumn_Upsert ($version_id;\"embedded\";$nil;\"timezone\";\"\";\"\";\"citext\";\"data\";\"timezone\";\"timezone\";True;True)\r\rEnd if \r\r  //------------------------------------------------------------------------\r  // Set the active version\r  //------------------------------------------------------------------------\rPgConfigTarget_SetCurrentVersID ($target_id;$version_id)\r\r  //------------------------------------------------------------------------\r  // Define who *may* push\r  //------------------------------------------------------------------------\r  // Note: You can't change who may push in 4D alone, the permissions must be updated in Postgres.\r  // If you need to push as an unsupported user, let David know.\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Iceberg;True;False)  // User;May push?;May pull?\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Iceberg_Remote;True;False)\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Leviathan;True;False)\rPgConfigTargetUserLink_Upsert ($target_id;PgSQL_User_Sonar;True;False)\r\r  //------------------------------------------------------------------------\r  // Cleanup any stale values\r  //------------------------------------------------------------------------\rPgConfig_Cleanup ($target_id;$version_id;$start_dts)\r\r  //------------------------------------------------------------------------\r  // Validate table and columns\r  //------------------------------------------------------------------------\rC_COLLECTION($validation_c)\r$validation_c:=PgConfigTarget_Validate ($target_path;\"\";True)\r\rEnd if \r\r$0:=$validation_c\r\rCode_End (Current method name)\r",	"element_map_c": [		{			"include": true,			"json_name": "Category",			"domo_name": "Category",			"postgres_name": "category",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "ClinicDeptName",			"domo_name": "ClinicDeptName",			"postgres_name": "clinic_dept_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Event",			"domo_name": "Event",			"postgres_name": "event_",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "FacilityID",			"domo_name": "FacilityID",			"postgres_name": "facility_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "facilityName",			"domo_name": "facilityName",			"postgres_name": "facility_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "HsysID",			"domo_name": "HsysID",			"postgres_name": "hsys_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "HsysName",			"domo_name": "HsysName",			"postgres_name": "hsys_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "InvID",			"domo_name": "InvID",			"postgres_name": "inv_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "InvName",			"domo_name": "InvName",			"postgres_name": "inv_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "ItemID",			"domo_name": "ItemID",			"postgres_name": "item_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "ItemName",			"domo_name": "ItemName",			"postgres_name": "item_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "ItemType",			"domo_name": "ItemType",			"postgres_name": "item_type",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "ItemTypeID",			"domo_name": "ItemTypeID",			"postgres_name": "item_type_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "locationDesc",			"domo_name": "locationDesc",			"postgres_name": "location_desc",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "NumInst",			"domo_name": "NumInst",			"postgres_name": "num_inst",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Scan_Date",			"domo_name": "Scan_Date",			"postgres_name": "scan_date",			"is_supported": true,			"json_type": "string",			"postgres_type": "date"		},		{			"include": true,			"json_name": "Scan_DayName",			"domo_name": "Scan_DayName",			"postgres_name": "scan_day_name",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "Scan_DayOfWeek",			"domo_name": "Scan_DayOfWeek",			"postgres_name": "scan_day_of_week",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Scan_HourBin",			"domo_name": "Scan_HourBin",			"postgres_name": "scan_hour_bin",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Scan_HourOfDay",			"domo_name": "Scan_HourOfDay",			"postgres_name": "scan_hour_of_day",			"is_supported": true,			"json_type": "number",			"postgres_type": "int4"		},		{			"include": true,			"json_name": "Scan_Local",			"domo_name": "Scan_Local",			"postgres_name": "scan_local",			"is_supported": true,			"json_type": "string",			"postgres_type": "timestamp"		},		{			"include": true,			"json_name": "ScanDTS",			"domo_name": "ScanDTS",			"postgres_name": "scan_dts",			"is_supported": true,			"json_type": "string",			"postgres_type": "timestamp"		},		{			"include": true,			"json_name": "scanID",			"domo_name": "scanID",			"postgres_name": "scan_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "scannedAt",			"domo_name": "scannedAt",			"postgres_name": "scanned_at",			"is_supported": true,			"json_type": "string",			"postgres_type": "timestamp"		},		{			"include": true,			"json_name": "scannedBy",			"domo_name": "scannedBy",			"postgres_name": "scanned_by",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "scannedDesc",			"domo_name": "scannedDesc",			"postgres_name": "scanned_desc",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "scannedDTS",			"domo_name": "scannedDTS",			"postgres_name": "scanned_dts",			"is_supported": true,			"json_type": "string",			"postgres_type": "timestamp"		},		{			"include": false,			"json_name": "scannedRecordID",			"domo_name": "scannedRecordID",			"postgres_name": "scanned_record_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "scannedType",			"domo_name": "scannedType",			"postgres_name": "scanned_type",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": false,			"json_name": "SpecialityID",			"domo_name": "SpecialityID",			"postgres_name": "speciality_id",			"is_supported": true,			"json_type": "string",			"postgres_type": "uuid"		},		{			"include": true,			"json_name": "Specialty",			"domo_name": "Specialty",			"postgres_name": "specialty",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "state",			"domo_name": "state",			"postgres_name": "state_",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "substate",			"domo_name": "substate",			"postgres_name": "substate",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		},		{			"include": true,			"json_name": "timezone",			"domo_name": "timezone",			"postgres_name": "timezone",			"is_supported": true,			"json_type": "string",			"postgres_type": "citext"		}	],	"build_hint": "",	"delete_date_range": false,	"source_id_name": "scanID",	"hsys_id_name": "HsysID",	"facility_id_name": "FacilityID",	"key_supplement_name": "None",	"from_dts_name": "None",	"to_dts_name": "None",	"deletion_mode_name": "None",	"tracking_type_name": "ConID",	"tracking_filter_on_name": "None",	"pgIOMap_entry": "// musc_orscansinout_v1\rIf (Code_NotErr )\r<>pgIOMap_STATIC_c.push(PgIOMap_NewEntry (New object(\\\r\"table_name\";\"domo_passthrough\";\\\r\"schema_name\";\"ascendco\";\\\r\"table_type\";\"view\";\\\r\"passthrough_schema_name\";\"passthrough\";\\\r\"passthrough_view_name\";\"musc_orscansinout_v1\";\\\r\"domo_dataset\";\"MUSC_OrScansInOut_PG\";\\\r\"push_method_name\";\"MUSC_OrScansInOut_PG\";\\\r\"copy_type_name\";pgIOMap_Copy_Type_Passthrough;\\\r\"ib_source_table_name\";\"\";\\\r\"ib_source_table_number\";0;\\\r\"auto_delete_records\";False;\\\r\"may_push\";Text_ParametersToCommaList (pgIO_App_Type_IceBerg;pgIO_App_Type_IceBerg_Remote;pgIO_App_Type_Leviathan;pgIO_App_Type_SAWS;pgIO_App_Type_Sonar);\\\r\"comment\";\"\")))\rIf ($load_field_map)\r\r// The comments on each line are the Domo column name calculated when this view was set up.\r// Only included elements are included in the map, the stored data may have other columns, like faciltity_id.\r// As formats evolve, the columns may be expanded or renamed a bit manually, so only use the Domo names here as a guide.\r$field_map_c:=New collection\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"category\";\"citext\")// Category\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"clinic_dept_name\";\"citext\")// ClinicDeptName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"event_\";\"citext\")// Event\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"facility_name\";\"citext\")// facilityName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"hsys_name\";\"citext\")// HsysName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"inv_name\";\"citext\")// InvName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"item_name\";\"citext\")// ItemName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"item_type\";\"citext\")// ItemType\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"location_desc\";\"citext\")// locationDesc\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"num_inst\";\"int4\")// NumInst\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_date\";\"date\")// Scan_Date\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_day_name\";\"citext\")// Scan_DayName\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_day_of_week\";\"int4\")// Scan_DayOfWeek\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_hour_bin\";\"int4\")// Scan_HourBin\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_hour_of_day\";\"int4\")// Scan_HourOfDay\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_local\";\"timestamp\")// Scan_Local\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_dts\";\"timestamp\")// ScanDTS\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scan_id\";\"uuid\")// scanID\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scanned_at\";\"timestamp\")// scannedAt\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scanned_by\";\"citext\")// scannedBy\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scanned_desc\";\"citext\")// scannedDesc\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scanned_dts\";\"timestamp\")// scannedDTS\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"scanned_type\";\"citext\")// scannedType\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"specialty\";\"citext\")// Specialty\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"state_\";\"citext\")// state\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"substate\";\"citext\")// substate\rpgIOMap_NewFieldMapEntry ($field_map_c;\"calculated\";$nil;\"timezone\";\"citext\")// timezone\r\rOB SET(<>pgIOMap_STATIC_c[<>pgIOMap_STATIC_c.length-1];\"field_map\";$field_map_c)\rEnd if\rEnd if\r\r"}