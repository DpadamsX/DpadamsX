------------------------------------------------------------------------------------- Checks for api.convert_ib_timezone_name (tz_name_in citext) function------------------------------------------------------------------------------------- Existence check:select * from test_case_setup('Function', 'api', 'convert_ib_timezone_name (tz_name_in citext)', '()', 'api.convert_ib_timezone_name tz_name_in citext existence check', 'select count(*) from pg_proc where pronamespace::regnamespace::text = ''api''   and proname = ''convert_ib_timezone_name''   and pg_get_function_identity_arguments(oid) = ''tz_name_in citext'';', '1', '', 'text', '{"comparator":"equals","column_order":"ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure}', FALSE, FALSE, '', '');-- Definition check:select * from test_case_setup('Function', 'api', 'convert_ib_timezone_name (tz_name_in citext)', '()', 'api.convert_ib_timezone_name tz_name_in citext definition check', 'select pg_get_functiondef(oid) from pg_proc where pronamespace::regnamespace::text = ''api''   and proname = ''convert_ib_timezone_name''   and pg_get_function_identity_arguments(oid) = ''tz_name_in citext'';', 'CREATE OR REPLACE FUNCTION api.convert_ib_timezone_name(tz_name_in citext) RETURNS citext LANGUAGE sql IMMUTABLEAS $function$-- IB uses custom names, convert these to standard tz names.SELECTCASE WHEN tz_name_in = ''Arizona''  THEN ''US/Arizona''::citext     WHEN tz_name_in = ''Central''  THEN ''US/Central''::citext     WHEN tz_name_in = ''Eastern''  THEN ''US/Eastern''::citext     WHEN tz_name_in = ''Mountain'' THEN ''US/Mountain''::citext     WHEN tz_name_in = ''Pacific''  THEN ''US/Pacific''::citext     WHEN tz_name_in = ''Western''  THEN ''US/Pacific''::citext  -- IB uses ''Western'' instead of ''Pacific''     ELSE ''UTC''::citextEND$function$', '', 'text', '{"comparator":"equals","column_order":"ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure}', FALSE, FALSE, '', '');