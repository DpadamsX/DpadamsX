------------------------------------------------------------------------------------- Checks for dba.view_register (schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext) procedure------------------------------------------------------------------------------------- Existence check:select * from test_case_setup('Procedure', 'dba', 'view_register (schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext)', '', 'dba.view_register schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext existence check', 'select count(*) from pg_proc where pronamespace::regnamespace::text = ''dba''   and proname = ''view_register''   and pg_get_function_identity_arguments(oid) = ''schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext'';', '1', '', 'text', '{"comparator":"equals","column_order":"ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure}', FALSE, FALSE, '', '');-- Definition check:select * from test_case_setup('Procedure', 'dba', 'view_register (schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext)', '', 'dba.view_register schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext definition check', 'select pg_get_functiondef(oid) from pg_proc where pronamespace::regnamespace::text = ''dba''   and proname = ''view_register''   and pg_get_function_identity_arguments(oid) = ''schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext'';', 'CREATE OR REPLACE PROCEDURE dba.view_register(schema_name_in citext, view_name_in citext, description_in citext, domo_dataset_in citext DEFAULT ''''::citext) LANGUAGE sqlAS $procedure$INSERT INTO dba.view_catalog (               schema_name,               view_name,               description,               domo_dataset)       VALUES (               schema_name_in,               view_name_in,               description_in,               domo_dataset_in)	ON CONFLICT ON CONSTRAINT view_catalog_id_pkey			DO UPDATE SET			   description   = description_in,			   domo_dataset  = domo_dataset_in$procedure$', '', 'text', '{"comparator":"equals","column_order":"ignore","case_sensitivity":"blind","whitespace_cleaning":"all","normalize_line_endings":true}', 'Pass', '{user_change_structure}', FALSE, FALSE, '', '');